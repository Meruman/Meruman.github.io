<script defer>function preloadImages(srcs) {
  if (!preloadImages.cache) {
    preloadImages.cache = [];
  }
  var img;
  for (var i = 0; i < srcs.length; i++) {
    img = new Image();
    img.src = srcs[i];
    preloadImages.cache.push(img);
  }
}</script>
{{ range .Site.RegularPages }}
{{ $blogImages := .Params.blogImages }}
<script defer>
  if ({{ $blogImages }}.length > 3) {
    // then to call it, you would use this
    preloadImages({{ $blogImages }});
  }
</script>
{{ end }}